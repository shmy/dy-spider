webpackJsonp([6],{P52d:function(e,t){},UKBf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("Xxa5"),r=n.n(a),s=n("exGp"),o=n.n(s),i={name:"keep-recommended",data:function(){return{items:[],paging:{page:1,per_page:21},isRefreshIng:!1,isLoadMoreIng:!1,pullStateIcon:"",noMore:!1}},created:function(){this.fetch()},methods:{stateChange:function(e){switch(e){case"pull":case"trigger":this.pullStateIcon="icon-jiantou3";break;case"loading":this.pullStateIcon="icon-loading-icon-round";break;case"loaded-done":this.pullStateIcon="icon-xiaolianchenggong";break;case"loaded-fail":this.pullStateIcon="icon-shibaibiaoqing"}},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o()(r.a.mark(function n(){var a;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$http.get("/classification/5b0fd14e7cad175a34a2ea89",e.paging);case 2:a=n.sent,t?e.items=a.payload.result:e.items.push.apply(e.items,a.payload.result),t||a.payload.result.length?e.noMore=!1:e.noMore=!0;case 5:case"end":return n.stop()}},n,e)}))()},refresh:function(e){var t=this;return o()(r.a.mark(function n(){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.isRefreshIng){n.next=2;break}return n.abrupt("return");case 2:return t.isRefreshIng=!0,t.paging.page=1,n.next=6,t.fetch(1);case 6:t.isRefreshIng=!1,e("done");case 8:case"end":return n.stop()}},n,t)}))()},loadmore:function(){var e=this;return o()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isLoadMoreIng&&!e.noMore){t.next=2;break}return t.abrupt("return");case 2:return e.isLoadMoreIng=!0,e.paging.page++,t.next=6,e.fetch();case 6:e.isLoadMoreIng=!1;case 7:case"end":return t.stop()}},t,e)}))()}}},c={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"column"},[n("header",{staticClass:"header row justify-center items-center"},[n("div",{staticClass:"search-bar",on:{click:function(t){e.$router.push("/search")}}},[e._v("\n        输入电影名称以搜索\n      ")])]),e._v(" "),n("pull-to",{directives:[{name:"keep-scroll",rawName:"v-keep-scroll.sub",value:".scroll-container",expression:"'.scroll-container'",modifiers:{sub:!0}}],staticClass:"col-h",attrs:{"top-load-method":e.refresh},on:{"infinite-scroll":e.loadmore,"top-state-change":e.stateChange},scopedSlots:e._u([{key:"top-block",fn:function(t){return[n("div",{staticClass:"top-load-wrapper"},[n("i",{staticClass:"iconfont top-load-icon",class:[e.pullStateIcon,"trigger"===t.state&&"trigger","loading"===t.state&&"loading"]}),e._v("\n        "+e._s(t.stateText)+"\n      ")])]}}])},[n("div",{staticClass:"movie-page row"},[e._l(e.items,function(e){return n("movie-item",{key:e._id,attrs:{item:e}})}),e._v(" "),n("p",{staticStyle:{"text-align":"center",width:"100%",height:"50px","line-height":"50px"}},[e._v("\n        "+e._s(e.isLoadMoreIng?"正在加载中...":" ")+"\n        "+e._s(e.noMore?"没有更多数据了...":" ")+"\n      ")])],2)])],1)},staticRenderFns:[]};var l=n("VU/8")(i,c,!1,function(e){n("P52d")},"data-v-6068494e",null);t.default=l.exports}});