webpackJsonp([7],{mnqn:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Xxa5"),a=r.n(n),s=r("exGp"),i=r.n(s),o={data:function(){return{paging:{page:1,per_page:21},items:[],isRefreshIng:!1,isLoadMoreIng:!1,noMore:!1}},created:function(){this.fetch()},methods:{fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return i()(a.a.mark(function r(){var n;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.$http.get("/classification/"+e.$route.params.id,e.paging);case 2:n=r.sent,t?e.items=n.payload.result:e.items.push.apply(e.items,n.payload.result),t||n.payload.result.length?e.noMore=!1:e.noMore=!0;case 5:case"end":return r.stop()}},r,e)}))()},refresh:function(e){var t=this;return i()(a.a.mark(function r(){return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.isRefreshIng){r.next=2;break}return r.abrupt("return");case 2:return t.isRefreshIng=!0,t.paging.page=1,r.next=6,t.fetch(1);case 6:t.isRefreshIng=!1,e("done");case 8:case"end":return r.stop()}},r,t)}))()},loadmore:function(){var e=this;return i()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isLoadMoreIng&&!e.noMore){t.next=2;break}return t.abrupt("return");case 2:return e.isLoadMoreIng=!0,e.paging.page++,t.next=6,e.fetch();case 6:e.isLoadMoreIng=!1;case 7:case"end":return t.stop()}},t,e)}))()}}},c={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"column"},[r("header",{staticClass:"header row"},[r("div",{staticClass:"left",on:{click:function(t){e.$router.back()}}},[e._v("< 返回")]),e._v(" "),r("div",{staticClass:"center"},[e._v("影片列表")]),e._v(" "),r("div",{staticClass:"right"})]),e._v(" "),r("main",{staticClass:"col-h"},[r("pull-to",{directives:[{name:"keep-scroll",rawName:"v-keep-scroll.sub",value:".scroll-container",expression:"'.scroll-container'",modifiers:{sub:!0}}],staticClass:"col-h",attrs:{"top-load-method":e.refresh},on:{"infinite-scroll":e.loadmore}},[r("div",{staticClass:"movie-page row"},[e._l(e.items,function(e){return r("movie-item",{key:e._id,attrs:{item:e}})}),e._v(" "),r("p",{staticStyle:{"text-align":"center",width:"100%"}},[e._v("\n          "+e._s(e.isLoadMoreIng?"正在加载中...":" ")+"\n          "+e._s(e.noMore?"没有更多数据了...":" ")+"\n        ")])],2)])],1)])},staticRenderFns:[]},u=r("VU/8")(o,c,!1,null,null,null);t.default=u.exports}});